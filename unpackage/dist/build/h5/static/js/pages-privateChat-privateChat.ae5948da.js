(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-privateChat-privateChat"],{"392f":function(e,t,a){"use strict";a.r(t);var i=a("428e"),n=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"3a23":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADBSURBVHgBvZMNDcIwEIUvKKgDKqESJgEJcwAOwAFzMAlIaFCAhAUFxUG5hrfkciTbbs32kktzl923+2mJ9lbOObBdqVYMeeWfLlQjBni2AbBgTS7teOE3AEUrJKEKJ+IRsKMF1iHpLmLt7KzKn9lOqp0Ec/A9QP0UKOqPRFVBxP7mdFCsJ863iH1wOrJItqWqHFtzazZ3RtJDxMYr0C2FOKw+qeH3ADW0VNhQUH7RQDUST6SlteLkm2k2EyAvh76ZvuRuFQKvwJ86AAAAAElFTkSuQmCC"},"40d5":function(e,t,a){"use strict";var i;a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goeasy-audio-player",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.playAudio.apply(void 0,arguments)}}},[a("div",{staticClass:"audio-facade",style:{width:7*Math.ceil(e.duration)+50+"px"}},[a("div",{staticClass:"audio-facade-bg",class:{"play-icon":e.play}}),a("div",[e._v(e._s(Math.ceil(e.duration)||1))])])])},o=[]},"41ff":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANhSURBVHgB7ZxdSxRhFIDPzubuLGLrjRmylEtQUGgaiAXlB0TdhDdRN0H4D/wr+Q8iqIuki6QbQ8itoA+hFCkoiLXY1da8WBN23UWd3jOdN2yYka09M6w754FxxtHd5X0457wfy7wRILLZbLtpmhOWZY3gAc3NgmrjZCqVuqtvRPDH6upq9+7u7rNYLNbd1tYG6gyRSASalUqlAuVyGUql0nK1Wh1Np9PLdmvz+XxWCbAlhInNzU08UEZ/NJfLjbe2to4nk0kIG/F4HKOjXWVDxVApMJFIJCCsYBZEo9FhQ133oZmw0tLSAtg5GBByDOO3gtCL0IgIQkQQIoIQEYSIIEQEISIIEUGICEJEECKCEBHEIWCiUPgBi0sfoLxVgSBImHEYHDgHyeRh4IBFxMbGT7j3YAq2ApKgWVz6CLdv3YDOIx1QLyyp8fjJTOASEPzMzItXwAFbRGiuXB5RYRsDP0EBM7MZ+xpTkgO2GqE5dfIEtDPlrRdFJV6L4EJ6DSIwEfilytdvOWhU2FPDDbtXuT9lh/TRzg670jfayrnvEbFXAvJdFTf8HSOkkfBVhFOCphFl+CbCTQL2KJpGk+GLCDcJY9euws3rYzB86cKfe7XIwL+9mX8PhTWe8YIX7MUSJUyrkaZTwtme0/b10MXz9lmPCLUMtwLqFIqv3SuSE/aIePho2lOCxtkgt8hwi6rnL1+zDamdsIvYO+dwk6DZT4ZXkUVQBkYcN76NI/aToPFKE5TpjKpCYc2uFYgfAzNfRNQiQeMmw/W91GGa5sFJjX+RoPEqgs73wv/D2a0fsIs4fiwF/4NThpfQwYF+u4fhJpC5Rq2gjF47BeJg7jMXSfowzW8oEYjfaxleyHoEwR4Rnz5/CWSpjhsWEbiKrPv9p7NzECRc9YIlNYZUtccCFzT4mdi7cBDJ5/NWV1cX1AtGxNv5d4F+wdPbc8Ze8aqXlZUVPhEHGRQhvQYhIggRQYgIQkQQIoIQEYSIIEQEISIIEUGICEJEELYIy7Ig7OADsHPVahXCCrV9wdjZ2cngM9JhpVQqYUZMGtvb23eUleUwysA2444BuH2CkU6ni4ZhjOJT88ViEZo9TbAeYhvX19f1TgGjeP+vTSJw5wB1mlB1ow+aGCVjTh0ZzAYMBLz3C1+EvaRBRUUmAAAAAElFTkSuQmCC"},"428e":function(e,t,a){"use strict";(function(e){var i=a("4ea4");a("498a"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("ade3")),o=i(a("5635")),r=i(a("57b2")),s=uni.getRecorderManager(),c={name:"privateChat",components:{GoEasyAudioPlayer:o.default},data:function(){var e,t="https://zhoukaiwen.com/img/icon/emojj1/",a=(e={"[微笑]":"1.png","[生气]":"2.png","[坏笑]":"3.png","[难受]":"4.png","[困]":"5.png","[偷看]":"6.png","[难过]":"7.png","[斜眼]":"8.png","[委屈]":"9.png","[害羞]":"10.png","[裂开]":"11.png","[偷笑]":"12.png","[痛苦]":"13.png","[白眼]":"14.png","[丑]":"15.png","[哇哇哭]":"16.png","[笑嘻嘻]":"17.png","[盯着你]":"18.png","[啊哈]":"19.png","[吃瓜]":"20.png","[哦吼]":"21.png","[哭死]":"22.png","[打脸]":"23.png","[斗鸡眼]":"24.png","[发呆]":"25.png","[憨笑]":"26.png","[无语]":"27.png","[鸡贼]":"28.png","[大无语]":"29.png","[哭吐了]":"30.png","[呲牙笑]":"31.png","[奸笑]":"32.png","[啊啊啊]":"33.png","[哈嘿]":"34.png","[惊讶]":"35.png","[指你]":"36.png","[可爱型]":"37.png","[快哭了]":"38.png","[抠鼻屎]":"39.png","[酷酷]":"40.png","[笑汗]":"41.png","[算命]":"42.png","[红脸坏笑]":"43.png","[委屈死了]":"44.png","[爆炸]":"45.png","[吐了]":"46.png","[么么哒]":"47.png","[吐血]":"48.png","[面无表情]":"49.png","[捂嘴吐]":"50.png","[斜眼看]":"51.png","[花痴]":"52.png","[被打]":"53.png","[瞌睡]":"54.png","[冥想]":"55.png","[俏皮]":"56.png","[戳手委屈]":"57.png","[端庄]":"58.png","[emmm]":"59.png","[欢呼]":"60.png","[笑哭了]":"61.png","[抱抱]":"62.png","[闭眼笑]":"63.png","[捂嘴微笑]":"64.png","[笑哭2]":"65.png"},(0,n.default)(e,"[笑嘻嘻]","66.png"),(0,n.default)(e,"[笑露齿]","67.png"),(0,n.default)(e,"[阴脸笑]","68.png"),(0,n.default)(e,"[问号脸]","69.png"),(0,n.default)(e,"[拜拜]","70.png"),(0,n.default)(e,"[难受2]","71.png"),(0,n.default)(e,"[傻笑2]","72.png"),(0,n.default)(e,"[爆炸2]","73.png"),(0,n.default)(e,"[二哈]","74.png"),(0,n.default)(e,"[二哈吐舌]","75.png"),(0,n.default)(e,"[狗狗笑哭]","76.png"),(0,n.default)(e,"[狗狗绿帽]","77.png"),(0,n.default)(e,"[狗狗张嘴]","78.png"),(0,n.default)(e,"[狗狗绿扇]","79.png"),(0,n.default)(e,"[狗狗]","80.png"),(0,n.default)(e,"[猫咪]","81.png"),(0,n.default)(e,"[牛啊]","82.png"),(0,n.default)(e,"[爱心]","83.png"),(0,n.default)(e,"[心裂开]","84.png"),(0,n.default)(e,"[玫瑰花]","85.png"),(0,n.default)(e,"[枯萎]","86.png"),(0,n.default)(e,"[棒]","87.png"),(0,n.default)(e,"[差]","88.png"),(0,n.default)(e,"[红药]","89.png"),(0,n.default)(e,"[绿药]","90.png"),(0,n.default)(e,"[抱拳]","91.png"),(0,n.default)(e,"[ok]","92.png"),(0,n.default)(e,"[pk]","93.png"),(0,n.default)(e,"[绿帽子]","94.png"),(0,n.default)(e,"[菜刀]","95.png"),e);return{content:"",friend:null,currentUser:null,friendid:"",messages:[],allHistoryLoaded:!1,emoji:{url:t,map:a,show:!1,decoder:new r.default(t,a)},more:{show:!1},audio:{recording:!1,visible:!1},video:{visible:!1,url:"",context:null}}},onReady:function(){this.video.context=uni.createVideoContext("videoPlayer",this);var t=uni.getStorageSync("theme");e("log",t," at pages/privateChat/privateChat.vue:240"),""===t||(this.$refs.chatInterface.$el.style.backgroundColor=t.color1,this.$refs.actiontop.$el.style.backgroundColor=t.color2,this.$refs.sendmessagebtn.$el.style.backgroundColor=t.color3,this.$refs.sendmessagebtn.$el.style.color=t.color1,this.$refs.actionbuttomout.$el.style.backgroundColor=t.color2)},onShow:function(){this.more.show=!1,this.emoji.show=!1,this.scrollToBottom()},onLoad:function(t){var a=this,i=this,n=getApp().globalData.imService;this.currentUser=uni.getStorageSync("currentUser");var o=t.to;this.friendid=o,e("log",o," at pages/privateChat/privateChat.vue:278"),uni.request({method:"GET",url:"https://shixiaozhuback.nanju.work:11731/getuserbyid",data:{openID:o},success:function(t){e("log",t.data," at pages/privateChat/privateChat.vue:289"),i.friend={uuid:t.data.uuid,name:t.data.name,avatar:t.data.avater},e("log","onLoad friend - ",i.friend," at pages/privateChat/privateChat.vue:295"),i.scrollToBottom(),uni.setNavigationBarTitle({title:i.friend.name})}}),this.messages=n.getPrivateMessages(o),n.onNewPrivateMessageReceive=function(e,t){e===a.friend.uuid&&(a.markPrivateMessageAsRead(e),a.scrollToBottom())},this.scrollToBottom(),this.initRecorderListeners(),0!==this.messages.length&&this.markPrivateMessageAsRead(o)},onPullDownRefresh:function(e){this.loadMoreHistoryMessage()},onUnload:function(){var e=getApp().globalData.imService;e&&(e.onNewPrivateMessageReceive=function(e,t){})},methods:{renderTextMessage:function(t){return e("log",t.payload.text," at pages/privateChat/privateChat.vue:362"),'<span class="text-content">'+this.emoji.decoder.decode(t.payload.text)+"</span>"},renderMessageDate:function(e,t){return 0===t||e.timestamp-this.messages[t-1].timestamp>3e5?this.formatDate(e.timestamp):""},initRecorderListeners:function(){var t=this;s.onStart((function(){t.audio.recording=!0})),s.onStop((function(a){t.audio.recording=!1;var i=t.goEasy.im.createAudioMessage({to:{id:t.friend.uuid,type:t.GoEasy.IM_SCENE.PRIVATE,data:{name:t.friend.name,avatar:t.friend.avatar}},file:a,onProgress:function(t){e("log",t," at pages/privateChat/privateChat.vue:396")},notification:{title:t.currentUser.name+"发来一段语音",body:"[语音消息]"}});t.sendMessage(i)})),s.onError((function(t){e("log","录音报错：",t," at pages/privateChat/privateChat.vue:407")}))},sendMessage:function(t){var a=t.to.id,i=getApp().globalData.imService,n=i.getPrivateMessages(a);n.push(t);var o=[this.friendid],r=this;this.goEasy.im.hereNow({userIds:o,onSuccess:function(t){e("log","Query online user list successfully, result:\n "+JSON.stringify(t)," at pages/privateChat/privateChat.vue:429"),e("log",t.content[0]," at pages/privateChat/privateChat.vue:431"),void 0==t.content[0]&&uni.request({method:"GET",url:"https://shixiaozhuback.nanju.work:11731/offlinemessage",data:{openid:r.friendid},success:function(e){}})},onFailed:function(t){e("log","Failed to mark as read, code:"+t.code+" content:"+t.content," at pages/privateChat/privateChat.vue:449")}}),this.goEasy.im.sendMessage({message:t,onSuccess:function(t){e("log","发送成功.",t," at pages/privateChat/privateChat.vue:456")},onFailed:function(t){e("log","发送失败:",t," at pages/privateChat/privateChat.vue:459")}})},sendTextMessage:function(){if(""!==this.content.trim()){var e=this.content;this.content.length>=50&&(e=this.content.substring(0,30)+"...");var t=this.goEasy.im.createTextMessage({text:this.content,to:{id:this.friend.uuid,type:this.GoEasy.IM_SCENE.PRIVATE,data:{name:this.friend.name,avatar:this.friend.avatar}},notification:{title:this.currentUser.name+"发来一段文字",body:e}});this.sendMessage(t)}this.scrollToBottom(),this.content=""},loadMoreHistoryMessage:function(){var t=this,a=Date.now(),i=this.messages[0];i&&(a=i.timestamp);var n=this.messages.length;this.goEasy.im.history({userId:t.friend.uuid,lastTimestamp:a,onSuccess:function(e){for(var a=getApp().globalData.imService,i=a.getPrivateMessages(t.friend.uuid),o=e.content,r=o.length-1;r>=0;r--)i.unshift(o[r]);i.length===n&&(t.allHistoryLoaded=!0),t.messages=i,uni.stopPullDownRefresh()},onFailed:function(t){401===t.code?e("log","获取历史消息失败,默认不开通，付费应用，可以在我的应用->查看详情，高级功能里自助开通"," at pages/privateChat/privateChat.vue:518"):e("log","获取历史消息失败, code:"+t.code+",错误信息:"+t.content," at pages/privateChat/privateChat.vue:520"),uni.stopPullDownRefresh()}})},switchAudioKeyboard:function(){this.audio.visible=!this.audio.visible,uni.authorize&&uni.authorize({scope:"scope.record"})},onRecordStart:function(){try{s.start()}catch(e){uni.showModal({title:"录音错误",content:"请在app和小程序端体验录音，Uni官方明确H5不支持getRecorderManager, 详情查看Uni官方文档"})}},onRecordEnd:function(){try{s.stop()}catch(t){e("log",t," at pages/privateChat/privateChat.vue:549")}},sendVideo:function(){var t=this;uni.chooseVideo({success:function(a){var i=t.goEasy.im.createVideoMessage({to:{id:t.friend.uuid,type:t.GoEasy.IM_SCENE.PRIVATE,data:{name:t.friend.name,avatar:t.friend.avatar}},file:a,onProgress:function(t){e("log",t," at pages/privateChat/privateChat.vue:566")},notification:{title:t.currentUser.name+"发来一个视频",body:"[视频消息]"}});t.sendMessage(i)}})},sendImage:function(){var t=this;uni.chooseImage({count:1,success:function(a){var i=t.goEasy.im.createImageMessage({to:{id:t.friend.uuid,type:t.GoEasy.IM_SCENE.PRIVATE,data:{name:t.friend.name,avatar:t.friend.avatar}},file:a,onProgress:function(t){e("log",t," at pages/privateChat/privateChat.vue:592")},notification:{title:t.currentUser.name+"发来一张图片",body:"[图片消息]"}});t.sendMessage(i)}})},showImageFullScreen:function(e){var t=[e.currentTarget.dataset.url];uni.previewImage({urls:t})},playVideo:function(e){var t=this;this.video.visible=!0,this.video.url=e.currentTarget.dataset.url,this.$nextTick((function(){t.video.context.requestFullScreen({direction:0}),t.video.context.play()}))},onVideoFullScreenChange:function(e){this.video.visible&&!e.detail.fullScreen&&(this.video.visible=!1,this.video.context.stop())},messageInputFocusin:function(){var e=this;this.more.show=!1,this.emoji.show=!1,setTimeout((function(){e.$refs.scrollview.$el.style.margin="0 0 0 0",e.scrollToBottom()}),300)},showEmoji:function(){this.emoji.show?(this.$refs.scrollview.$el.style.margin="0 0 0 0",this.scrollToBottom()):(this.$refs.scrollview.$el.style.margin="0 0 170px 0",this.scrollToBottom()),this.emoji.show=!this.emoji.show,this.more.show=!1},showMore:function(){this.more.show?(this.$refs.scrollview.$el.style.margin="0 0 0 0",this.scrollToBottom()):(this.$refs.scrollview.$el.style.margin="0 0 170px 0",this.scrollToBottom()),this.more.show=!this.more.show,this.emoji.show=!1},selectEmoji:function(e){this.content+=e},showCustomMessageForm:function(){var e={id:this.friend.uuid,name:this.friend.name,avatar:this.friend.avatar,type:this.GoEasy.IM_SCENE.PRIVATE};uni.navigateTo({url:"../customMessage/customMessage?to="+JSON.stringify(e)})},scrollToBottom:function(){this.$nextTick((function(){uni.pageScrollTo({scrollTop:2e6,duration:10})}))},markPrivateMessageAsRead:function(t){this.goEasy.im.markPrivateMessageAsRead({userId:t,onSuccess:function(){e("log","标记为已读成功"," at pages/privateChat/privateChat.vue:702")},onFailed:function(t){e("log",t," at pages/privateChat/privateChat.vue:705")}})}}};t.default=c}).call(this,a("0de9")["log"])},5635:function(e,t,a){"use strict";a.r(t);var i=a("40d5"),n=a("aa0b");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("ef8d");var r,s=a("f0c5"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"1348f4ba",null,!1,i["a"],r);t["default"]=c.exports},"57b2":function(e,t,a){"use strict";var i=a("4ea4");a("4d63"),a("ac1f"),a("25f0"),a("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("d4ec")),o=i(a("bee2")),r=i(a("ade3")),s=function(){function e(t,a){for(var i in(0,n.default)(this,e),(0,r.default)(this,"emojiMap",null),(0,r.default)(this,"url",""),(0,r.default)(this,"patterns",[]),(0,r.default)(this,"metaChars",/[[\]{}()*+?.\\|^$\-,&#\s]/g),this.url=t||"",this.emojiMap=a||{},this.emojiMap)this.emojiMap.hasOwnProperty(i)&&this.patterns.push("("+i.replace(this.metaChars,"\\$&")+")")}return(0,o.default)(e,[{key:"decode",value:function(e){var t=this;return e.replace(new RegExp(this.patterns.join("|"),"g"),(function(e){return"undefined"!=typeof t.emojiMap[e]?'<img height="20rpx" width="20rpx" src="'+t.url+t.emojiMap[e]+'" />':e}))}}]),e}(),c=s;t.default=c},6019:function(e,t,a){"use strict";a.r(t);var i=a("79bf"),n=a("392f");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("d3ef");var r,s=a("f0c5"),c=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"2498de90",null,!1,i["a"],r);t["default"]=c.exports},"79bf":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}));var i={GoEasyAudioPlayer:a("5635").default},n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{ref:"chatInterface",staticClass:"chatInterface"},[i("v-uni-view",{ref:"scrollview",staticClass:"scroll-view"},[i("v-uni-view",{staticClass:"all-history-loaded"},[e._v(e._s(e.allHistoryLoaded?"已经没有更多的历史消息":"下拉获取历史消息"))]),e._l(e.messages,(function(t,a){return i("v-uni-view",{key:t.messageId},[i("v-uni-view",{staticClass:"time-lag"},[e._v(e._s(e.renderMessageDate(t,a)))]),i("v-uni-view",{staticClass:"message-item",class:{self:t.senderId==(e.currentUser&&e.currentUser.uuid)}},[t.senderId!=(e.currentUser&&e.currentUser.uuid)?i("v-uni-view",{staticClass:"avatar"},[i("v-uni-image",{attrs:{src:e.friend.avatar}})],1):i("v-uni-view",{staticClass:"avatar"},[i("v-uni-image",{attrs:{src:e.currentUser.avatar}})],1),i("v-uni-view",{staticClass:"content"},["sending"==t.status?i("b",{staticClass:"pending"}):e._e(),"fail"==t.status?i("b",{staticClass:"send-fail"}):e._e(),"text"==t.type?i("v-uni-view",{domProps:{innerHTML:e._s(e.renderTextMessage(t))}}):e._e(),"image"==t.type?i("v-uni-image",{staticClass:"image-content",attrs:{src:t.payload.url,"data-url":t.payload.url,mode:"widthFix"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showImageFullScreen.apply(void 0,arguments)}}}):e._e(),"video"==t.type?i("v-uni-view",{staticClass:"video-snapshot",attrs:{"data-url":t.payload.video.url},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.playVideo.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:t.payload.thumbnail.url,mode:"aspectFit"}}),i("v-uni-view",{staticClass:"video-play-icon"})],1):e._e(),"audio"==t.type?i("GoEasyAudioPlayer",{attrs:{src:t.payload.url,duration:t.payload.duration}}):e._e()],1)],1)],1)}))],2),e.video.visible?e._e():i("v-uni-view",{ref:"actionbuttomout",staticClass:"action-box"},[i("v-uni-view",{ref:"actiontop",staticClass:"action-top"},[e.audio.visible?i("v-uni-view",{staticClass:"record-input",on:{touchstart:function(t){arguments[0]=t=e.$handleEvent(t),e.onRecordStart.apply(void 0,arguments)},touchend:function(t){arguments[0]=t=e.$handleEvent(t),e.onRecordEnd.apply(void 0,arguments)}}},[e._v(e._s(e.audio.recording?"松开发送":"按住录音"))]):i("v-uni-view",{staticClass:"message-input"},[i("v-uni-textarea",{attrs:{selectable:!0,type:"text",rows:"1",maxlength:"1000","show-confirm-bar":!1,onscroll:"this.rows++;"},on:{focus:function(t){arguments[0]=t=e.$handleEvent(t),e.messageInputFocusin()}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),i("v-uni-view",{staticClass:"file-icon emoji-icon",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showEmoji.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"file-icon more-icon",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.showMore.apply(void 0,arguments)}}}),i("v-uni-view",{ref:"sendmessagebtn",staticClass:"send-message-btn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendTextMessage.apply(void 0,arguments)}}},[e._v("发送")])],1),e.emoji.show?i("v-uni-scroll-view",{staticClass:"action-bottom-out",attrs:{"scroll-y":"true"}},[e.emoji.show?i("v-uni-view",{staticClass:"action-bottom",staticStyle:{"justify-content":"space-around"}},e._l(e.emoji.map,(function(t,a,n){return i("v-uni-image",{key:n,staticClass:"emoji-item",attrs:{src:e.emoji.url+t},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectEmoji(a)}}})})),1):e._e()],1):e._e(),e.more.show?i("v-uni-view",{staticClass:"action-bottom"},[i("v-uni-view",{staticClass:"more-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendImage.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:a("41ff")}}),i("v-uni-text",[e._v("图片")])],1),i("v-uni-view",{staticClass:"more-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendVideo.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:a("ffc3")}}),i("v-uni-text",[e._v("视频")])],1)],1):e._e()],1),e.audio.recording?i("v-uni-view",{staticClass:"record-loading"}):e._e(),e.video.visible?i("v-uni-video",{attrs:{src:e.video.url,id:"videoPlayer"},on:{fullscreenchange:function(t){arguments[0]=t=e.$handleEvent(t),e.onVideoFullScreenChange.apply(void 0,arguments)}}}):e._e()],1)},o=[]},"7d6c":function(e,t,a){var i=a("c185");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("417608e4",i,!0,{sourceMap:!1,shadowMode:!1})},aa0b:function(e,t,a){"use strict";a.r(t);var i=a("c30a"),n=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},bee2:function(e,t,a){"use strict";function i(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},c185:function(e,t,a){var i=a("24fb"),n=a("1de5"),o=a("cc1a"),r=a("6da1"),s=a("231a"),c=a("3f0e"),d=a("2c8b"),l=a("4334"),u=a("5e9f"),g=a("1094");t=i(!1);var h=n(o),f=n(r),p=n(s),v=n(c),m=n(d),A=n(l),b=n(u),w=n(g);t.push([e.i,"uni-page-body[data-v-2498de90]{background:#f5f5f5}.chatInterface[data-v-2498de90]{background-color:#f5f5f5;height:auto;min-height:100vh}.emoji-item[data-v-2498de90]{height:%?50?%;width:%?50?%\n\t/* display: inline-block; */}.chatInterface .scroll-view[data-v-2498de90]{\n\t/* height: auto; */padding-left:%?20?%;padding-right:%?20?%;box-sizing:border-box;-webkit-overflow-scrolling:touch;padding-bottom:%?120?%}.chatInterface .scroll-view .all-history-loaded[data-v-2498de90]{font-size:%?24?%;height:%?90?%;line-height:%?90?%;width:100%;text-align:center;color:grey}.chatInterface .scroll-view .message-item[data-v-2498de90]{max-height:%?400?%;margin-top:%?30?%;margin-bottom:%?30?%;overflow:hidden;display:flex}.chatInterface .scroll-view .message-item.self[data-v-2498de90]{overflow:hidden;display:flex;justify-content:flex-start;flex-direction:row-reverse}.chatInterface .scroll-view .message-item .avatar[data-v-2498de90]{width:%?100?%;height:%?100?%;margin-right:%?20?%;flex-shrink:0;flex-grow:0;border-radius:%?40?%}.chatInterface .scroll-view .message-item .avatar uni-image[data-v-2498de90]{width:100%;height:100%;border-radius:25px}.chatInterface .scroll-view .message-item.self .avatar[data-v-2498de90]{margin-left:%?20?%;margin-right:0}.chatInterface .scroll-view .content[data-v-2498de90]{font-size:%?34?%;line-height:%?44?%;max-height:%?400?%;display:flex;align-items:center;justify-content:right;text-align:right}.chatInterface .scroll-view .content uni-view[data-v-2498de90]{-webkit-user-select:text;user-select:text}.chatInterface .scroll-view .content .image-content[data-v-2498de90]{padding:%?16?%;border-radius:%?12?%;width:%?300?%;height:%?300?%}.chatInterface .scroll-view .content .text-content[data-v-2498de90]{padding:%?16?%;border-radius:%?12?%;color:#fff;background:#618dff;\n\t/* word-break: break-all; */word-break:normal;text-align:left;vertical-align:center;display:block;white-space:pre-wrap;word-wrap:break-word}.chatInterface .scroll-view .content .text-content img[data-v-2498de90]{width:%?50?%;height:%?50?%}.chatInterface .scroll-view .content .red-packet[data-v-2498de90]{background-color:orange;color:#fff;font-size:%?30?%;width:%?400?%;height:%?150?%;border-radius:%?10?%;line-height:%?80?%;padding:%?20?%;box-sizing:border-box;display:flex;justify-content:space-between}.chatInterface .scroll-view .content .red-packet uni-image[data-v-2498de90]{width:%?70?%;height:%?80?%}.chatInterface .scroll-view .content .pending[data-v-2498de90]{background:url("+h+") no-repeat 50%;background-size:%?30?%;width:%?30?%;height:%?30?%;margin-right:%?10?%;flex-grow:0;flex-shrink:0}.chatInterface .scroll-view .content .send-fail[data-v-2498de90]{background:url("+f+") no-repeat 50%;background-size:%?30?%;width:%?30?%;height:%?30?%;margin-right:%?10?%;flex-grow:0;flex-shrink:0}.chatInterface .action-box[data-v-2498de90]{display:flex;-webkit-backdrop-filter:blur(%?0.27?%);backdrop-filter:blur(%?0.27?%);width:100%;position:fixed;bottom:0;left:0;flex-direction:column;background-color:#f5f5f5}.chatInterface .action-box .action-top[data-v-2498de90]{display:flex;padding-top:%?20?%;padding-bottom:%?20?%;-webkit-backdrop-filter:blur(.27rem);backdrop-filter:blur(.27rem);height:%?80?%;background:#f0f0f0;width:100%}.chatInterface .action-box .action-top .record-icon[data-v-2498de90]{font-size:%?32?%;width:%?80?%;height:%?80?%;line-height:%?80?%;text-align:center;background:url("+p+") no-repeat 50%;background-size:50%;-webkit-tap-highlight-color:rgba(0,0,0,0)}.chatInterface .action-box .action-top .file-icon[data-v-2498de90]{background:url("+v+") no-repeat 50%;background-size:70%;color:#9d9d9d;position:relative;width:%?80?%;height:%?80?%;line-height:%?80?%;-webkit-tap-highlight-color:rgba(0,0,0,0)}.chatInterface .action-box .record-icon.record-open[data-v-2498de90]{background:url("+m+") no-repeat 50%;background-size:70%;-webkit-tap-highlight-color:rgba(0,0,0,0)}.chatInterface .action-box .action-top .img-video[data-v-2498de90]{background:url("+A+") no-repeat 50%;background-size:73%}.chatInterface .action-box .action-top .emoji-icon[data-v-2498de90]{background:url(/static/images/biaoqing.png) no-repeat 50%;background-size:90%}.chatInterface .action-box .action-top .more-icon[data-v-2498de90]{background:url(/static/images/jiahao.png) no-repeat 50%;background-size:70%}.chatInterface .action-box .action-bottom .more-item[data-v-2498de90]{display:inline-flex;flex-direction:column;width:%?150?%;height:%?150?%;margin-right:%?20?%;align-items:center}.chatInterface .action-box .action-bottom .more-item uni-image[data-v-2498de90]{height:%?100?%;width:%?100?%}.chatInterface .action-box .action-bottom .more-item uni-text[data-v-2498de90]{font-size:%?20?%;text-align:center;line-height:%?50?%}.chatInterface .action-box .action-top .record-input[data-v-2498de90]{width:%?460?%;height:%?80?%;line-height:%?80?%;border-radius:%?12?%;font-size:%?28?%;background:#ccc;color:#fff;text-align:center}.chatInterface .action-box .action-top .message-input[data-v-2498de90]{border-radius:%?30?%;background:#fefefe;height:%?80?%;align-items:center;justify-content:center}.message-input[data-v-2498de90]{margin-left:%?15?%;display:table-cell;vertical-align:middle}.chatInterface .action-box .action-top .message-input uni-input[data-v-2498de90]{width:%?480?%;height:%?80?%;line-height:%?80?%;padding-left:%?20?%;font-size:%?28?%}.chatInterface .action-box .action-top .message-input uni-textarea[data-v-2498de90]{padding-top:%?20?%;width:%?450?%;height:%?60?%;line-height:%?40?%;padding-left:%?20?%;font-size:%?28?%;outline:none;overflow:hidden}.chatInterface .action-box .action-top .send-message-btn[data-v-2498de90]{font-size:%?30?%;margin-top:%?10?%;text-align:center;\n\t/* padding-left: 18rpx; */margin-right:%?10?%;width:%?100?%;line-height:%?57?%;height:%?60?%;color:hsla(0,0%,100%,.87);\n\t/* border: 1px solid #A4AAFF; */background-color:#a4aaff;border-radius:%?10?%}.action-bottom-out[data-v-2498de90]{-webkit-overflow-scrolling:touch;height:%?300?%;box-sizing:border-box;background-color:hsla(0,0%,94.1%,0)}.chatInterface .action-bottom[data-v-2498de90]{height:%?300?%;width:100%;padding:%?20?%;box-sizing:border-box;background-color:hsla(0,0%,94.1%,0)\n\t/* display: flex; */}.chatInterface .action-bottom uni-image[data-v-2498de90]{width:%?70?%;height:%?70?%;display:inline-block}.chatInterface .record-loading[data-v-2498de90]{position:fixed;top:50%;left:50%;width:%?300?%;height:%?300?%;margin:%?-150?% %?-150?%;background:#262628;background:url("+b+") no-repeat 50%;background-size:100%;border-radius:%?40?%}.chatInterface .img-layer[data-v-2498de90]{position:absolute;top:0;left:0;right:0;bottom:0;background:#000;z-index:9999;padding:%?6?%;display:flex;justify-content:center;align-items:center}.chatInterface .img-layer uni-image[data-v-2498de90]{height:100%!important}.chatInterface .img-layer[data-v-2498de90]{height:100%!important;width:100%!important}.chatInterface .content .file-content .file-info[data-v-2498de90]{height:.5rem;width:1.5rem;display:flex;flex-direction:column;padding:0 .1rem}.chatInterface .content .file-content .file-info .title[data-v-2498de90]{height:.3rem;line-height:.3rem;overflow:hidden;font-size:.16rem;padding:0;white-space:nowrap;text-overflow:ellipsis;word-break:break-all;color:#262628;text-align:left}.chatInterface .content .file-content .file-info .size[data-v-2498de90]{font-size:.14rem;height:.2rem;line-height:.2rem;padding:0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;word-break:break-all;color:#999;text-align:left}.chatInterface .video-snapshot[data-v-2498de90]{position:relative;height:%?300?%;max-width:%?400?%;background:#000}.chatInterface .video-snapshot uni-image[data-v-2498de90]{max-height:%?300?%;max-width:%?400?%}.chatInterface .video-snapshot uni-video[data-v-2498de90]{max-height:%?300?%;max-width:%?400?%}.chatInterface .video-snapshot .video-play-icon[data-v-2498de90]{position:absolute;width:%?40?%;height:%?40?%;border-radius:%?20?%;background:url("+w+") no-repeat 50%;background-size:100%;top:50%;left:50%;margin:%?-20?%}.chatInterface .group-icon[data-v-2498de90]{right:%?20?%;width:%?60?%;height:%?60?%;top:%?14?%;position:fixed;right:%?20?%;top:%?120?%;background-color:#c4c4c4;z-index:2;border-radius:%?60?%}.uni-toast[data-v-2498de90]{background-color:#fff!important}.time-lag[data-v-2498de90]{font-size:%?20?%;text-align:center}.chatInterface .custom-message[data-v-2498de90]{width:%?400?%;height:%?260?%;display:flex;flex-direction:column;justify-content:space-around;align-items:flex-start;box-sizing:border-box;padding:%?10?% %?30?%;border:1px solid rgba(0,0,0,.05);box-shadow:0 2px 12px rgba(0,0,0,.1);border-radius:%?20?%}.chatInterface .custom-message .title[data-v-2498de90]{width:100%;display:flex;align-items:center;font-size:%?30?%}.chatInterface .custom-message .title uni-image[data-v-2498de90]{width:%?40?%;height:%?40?%}.chatInterface .custom-message .custom-message-item[data-v-2498de90]{text-align:left;font-size:%?28?%;overflow:hidden;width:100%;text-overflow:ellipsis;white-space:nowrap}body.?%PAGE?%[data-v-2498de90]{background:#f5f5f5}",""]),e.exports=t},c30a:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=uni.createInnerAudioContext(),n={name:"GoEasyAudioPlayer",props:["src","duration"],data:function(){return{play:!1}},methods:{playAudio:function(){var e=this;this.play=!0,i.src=this.src,i.play(),setTimeout((function(){e.play=!1}),1e3*this.duration)}}};t.default=n},cadb:function(e,t,a){var i=a("24fb"),n=a("1de5"),o=a("3a23"),r=a("f7dd");t=i(!1);var s=n(o),c=n(r);t.push([e.i,".goeasy-audio-player[data-v-1348f4ba]{margin-top:%?12?%;-webkit-tap-highlight-color:rgba(0,0,0,0)}.audio-facade[data-v-1348f4ba]{min-width:%?20?%;padding:%?6?% %?10?%;height:%?72?%;line-height:%?72?%;background:#618dff;font-size:%?24?%;border-radius:%?14?%;color:#fff;display:flex}.audio-facade-bg[data-v-1348f4ba]{background:url("+s+") no-repeat 50%;background-size:%?30?%;width:%?40?%}.audio-facade-bg.play-icon[data-v-1348f4ba]{background:url("+c+") no-repeat 50%;background-size:%?30?%;-moz-transform:rotate(180deg);-webkit-transform:rotate(180deg);-o-transform:rotate(180deg);transform:rotate(180deg)}",""]),e.exports=t},d3ef:function(e,t,a){"use strict";var i=a("7d6c"),n=a.n(i);n.a},d4ec:function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},d668:function(e,t,a){var i=a("cadb");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("7f855d22",i,!0,{sourceMap:!1,shadowMode:!1})},ef8d:function(e,t,a){"use strict";var i=a("d668"),n=a.n(i);n.a},f7dd:function(e,t){e.exports="data:image/gif;base64,R0lGODlhEgASAMQTAGuU/7rN/9fi/+vx/4mq/6a//5y4/8TU/83b//X4/3+i/87c/+Hq/7DG/5y3/8TV/3Wb/////2GN/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MjgyQzgwRDhERDA1MTFFQUJCMkJEMUM3OTAyMkYwOEMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MjgyQzgwRDlERDA1MTFFQUJCMkJEMUM3OTAyMkYwOEMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyODJDODBENkREMDUxMUVBQkIyQkQxQzc5MDIyRjA4QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoyODJDODBEN0REMDUxMUVBQkIyQkQxQzc5MDIyRjA4QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAUyABMALAAAAAASABIAAAUfoCSOZGmeaKqubOu+sAgY0HtEy1tEAVzHwKBwSGSFAAAh+QQFMgATACwHAAQABQAKAAAFH+A0AYoIDQk0HVEzRoNIRIFMi0AkiJMQOabEAGBShQAAIfkEBTIAEwAsAwABAAUAEAAABTDgJBaK2ETMBEUDNAmRoUbCGItIVL6RyPs5gCgQIYgIEYSPEXFNkAzh5BEJiAAISAgAOw=="},ffc3:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAOGSURBVHgB7ZxPSxtREMAnm2pWxMaLhkqqCdIWLP4rWBFa/9BWDy32UOjZb+BXqRR6K5RCT71JPUSE6lGFVi0ttFASa6KNeogVYjao2zfbiTViNInjRrPzg3WXNez6fvvmzbw1uy4gwuFwra7ro6Zp9uMC5c2CauOY3+9/k9nhwh9ra2uB/f39j5WVlYGamhpQa3C5XFCuGIYBOzs7kEwmI+l0eiAYDEas1sZisbASYElwEtvb27igjE53NBodqa6uHvF6veA0PB4P9o5aFQ2GpkJgtKqqCpwKRoHb7e7T1HYHmnEqFRUVgMlBA4ejaf8UOF5EBhFBiAhCRBAighARhIggRAQhIggRQYgIQkQQIoK4AkzMzn+G3/F1sJNA43Vob2sBDlhEzM5/gsmpGbCbpS/fIGWkoLvrDpwVltBYVH9QqeA6N4sII2VAqeA6N9sYgdy62Qy++jprO6Vumc+pcQPp7uqEYm8H5jpOfH0Dvv/4CVzwirjRrAav29Z2YuvPQQPuqhiu9V6FYsh1nMWlr6wiJH0SrD0CuzFeQWSL1pcFVhGYQvNNo1h3xFXd0Xe/B7x5hs34h9DBNrdoVhGFMKdqD+w9y7+i0HuvJ6/CCD97XrCKaG9tgUCT39pOqbQWyqN3oIzxiZBq5AoMPeo/MbtgVsr8foskcsEqoqnRD22t/7NGqIBqEwsjbNjwkyHrOMcx+LA/K2twirhQWQPlvX33/lxDIBcXMn3quv3/iy3ZYHkcmD2eqtDIVKd2wioC4zxC3Rq/lVIIWD73qlSqnzBYTk5NZw2WnLCKKCa2MQyGHw9ZGeE0OEvqo7CKwEYdvqKJE64azhswZR7OBKfh89UdHB+r2Hh8A7hgFTH4oC9r0vXy1eucn8VQwKUQnj8bzkqf4xOTwIVMuggRQdgy+zzLCJ/rOCkjDZzYMvvEapEDruMcB0toePTSfSuP69wsItppolUKuM7NEhqYBrGGiCyvgJ1c89WreqSwFJwLVywWMxsaGsDJrK6uSvrMICIIEUGICEJEECKCEBGEiCBEBCEiCBFBiAhCRBCWCNM0wengA7DT6TTv/b/LBLV9Qdvb25vBZ6SdSjKZxIgY03Z3d18oKxEnysA24xsD8PUJWjAYTGiaNoBPzScSCSj3MMHxENu4ubmZeVPAAO7PekkEvjlArUbVuNEBZYySMa2WGYwG7Ai47y8M6X/tOfR2CgAAAABJRU5ErkJggg=="}}]);